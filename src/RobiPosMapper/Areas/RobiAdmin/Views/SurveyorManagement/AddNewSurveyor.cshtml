
@{
    ViewBag.Title = "Surveyor Management > Add New Surveyor";
}

<style>
    a.topicon {
        margin-right: 15px;
    }

    #myTable{
        margin-top:20px; margin-left:16px;
    }

    #myTable td{
        padding:10px;
    }

    #myTable td span {
        color:red;
    }

    form input[type=text] {
        width:400px;
        border-radius:3px;
        /*height:40px;*/
        font-size:15px;
        padding:20px;
    }

    form select {
        width: 400px;
        border-radius: 3px;
        height:42px;
        font-size: 15px;
        padding-left:20px;
        /*padding: 20px;*/
    }

    form textarea {
        width: 400px;
        border-radius: 3px;
        /*height:40px;*/
        font-size: 15px;
        padding: 20px;
    }
</style>

<div class="row-fluid">
    <div class="span12">

        <a class="topicon" title="Add new surveyor." href="~/RobiAdmin/SurveyorManagement/AddNewSurveyor?user=@ViewBag.UserName&moid=@ViewBag.MoId"><img src="~/Assets/MyImages/AddNewSurveyors48.png" /></a>
        <a class="topicon" title="Show only active surveyors." href="~/RobiAdmin/SurveyorManagement/ShowActiveSurveyors?user=@ViewBag.UserName&moid=@ViewBag.MoId"><img src="~/Assets/MyImages/ShowActiveSurveyors48.png" /></a>
        <a class="topicon" title="Show both active/inactive surveyors." href="~/RobiAdmin/SurveyorManagement/ShowAll?user=@ViewBag.UserName&moid=@ViewBag.MoId"><img src="~/Assets/MyImages/ShowAllSureveyors48.png" /> </a>


        <div class="block well">
            <div class="navbar">
                <div class="navbar-inner">
                    <h5>Add Surveyor Information</h5>
                </div>
            </div>
            <div class="table-overflow">
                <form name="srform" onsubmit="return validateForm()" method="post" action="~/RobiAdmin/SurveyorManagement/AddNewSurveyor?user=@ViewBag.UserName&moid=@ViewBag.MoId">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <span class="fa fa-home"></span>
                        </span>
                        <span class="form-control tdShopSignage"></span>
                    </div>

                    <table id="myTable">
                        <tbody>
                            <tr>
                                <td>Surveyor Name<span>*</span></td>
                                <td>:</td>
                                <td>
                                    <input type="text" id="fullname" name="FullName" placeholder="surveyor full name" /><img style="margin-top:8px; position:absolute; display:none;" src="~/Assets/MyImages/FormValidationError.png" />
                                </td>
                            </tr>
                            <tr>
                                <td>Contact No. <span>*</span></td>
                                <td>:</td>
                                <td><input type="text" id="contactno" name="ContactNo" placeholder="contact no." /><img style="margin-top:8px; position:absolute; display:none;" src="~/Assets/MyImages/FormValidationError.png" /></td>
                            </tr>
                            <tr>
                                <td>Region<span>*</span></td>
                                <td>:</td>
                                <td>
                                    <select name="RegionId">
                                        <option value="-1" selected="selected">Select region</option>
                                        @foreach (var row in ViewBag.Regions.Rows)
                                        {
                                            <option value="@row["RegionId"].ToString()">@row["RegionName"].ToString()</option>
                                        }
                                    </select><img style="margin-top:8px; position:absolute; display:none;" src="~/Assets/MyImages/FormValidationError.png" />
                                </td>
                            </tr>
                            <tr>
                                <td>Description</td>
                                <td>:</td>
                                <td><textarea name="Description" cols="50"></textarea></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td>
                                    <img src="~/Assets/MyImages/YellowBulb32.png" /><span>NOTE: Login information is autogenerated and will be available after submitting this form.</span>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td><button style="width:200px; height:40px;">Submit</button></td>
                            </tr>
                        </tbody>
                    </table>

                </form>
            </div>
        </div>

    </div>
</div>
<script>
    function validateForm() {

        var IsValid = true; var alertMessage = "";

        var form = document.forms["srform"];
        var fullNameTextBox = form["FullName"];
        var contactNoTextBox = form["ContactNo"];

        var fullName = fullNameTextBox.value;
       
        if (fullName == null || fullName == "") {
            // alert("Name must be filled out.");
            alertMessage = "Please provide surveyor full name.";
            var thisImage = fullNameTextBox.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
            thisImage.style.display = 'inline'; //OR- thisImage.setAttribute('class', 'visible');
            IsValid = false;
        }
        else {
            var thisImage = fullNameTextBox.nextSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
            thisImage.style.display = 'none'; //OR- thisImage.setAttribute('class', 'visible');
        }

        var contactNo = contactNoTextBox.value;
        if (contactNo == null || contactNo == "") {
            //alert("Contact No. must be filled out.");
            alertMessage += "\nPlease provide contact no."
            var thisImage = contactNoTextBox.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
            thisImage.style.display = 'inline'; //OR- thisImage.setAttribute('class', 'visible');
            IsValid = false;
        }
        else {

            if (isNaN(contactNo)) {
                alertMessage += "\nInvalid contact no. It must be numeric."
                var thisImage = contactNoTextBox.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
                thisImage.style.display = 'inline'; //OR- thisImage.setAttribute('class', 'visible');
                IsValid = false;
            }
            else {
                var thisImage = contactNoTextBox.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
                thisImage.style.display = 'none'; //OR- thisImage.setAttribute('class', 'visible');
            }
        }

        var regionIdCombo = form["RegionId"];
        var regionId = regionIdCombo.value;
        if (regionId ==-1 ) {
            alertMessage += "\nPlease select a region.";
            var thisImage = regionIdCombo.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
            thisImage.style.display = 'inline'; //OR- thisImage.setAttribute('class', 'visible');
            IsValid = false;
        }
        else {
            var thisImage = regionIdCombo.nextElementSibling; //OR- var thisImage = fullNameTextBox.nextElementSibling;
            thisImage.style.display = 'none'; //OR- thisImage.setAttribute('class', 'visible');
        }

        if (!IsValid) {
            alert(alertMessage);
           // AlertNotification('Information Required', 'Please type address.');
        }

        return IsValid;
    }
</script>